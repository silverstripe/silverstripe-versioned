---
Name: versioned-graphql-schema
Only:
  moduleexists: 'silverstripe/graphql'
  classexists: 'SilverStripe\GraphQL\Schema\Schema'
---
SilverStripe\GraphQL\Schema\Schema:
  schemas:
    '*':
      enums:
        VersionedStage:
          description: The stage to read from or write to
          values:
            DRAFT:
              value: Stage
              description: The draft stage
            LIVE:
              value: Live
              description: The live stage
        VersionedQueryMode:
          description: The versioned mode to use
          values:
            ARCHIVE:
              value: archive
              description: Read from a specific date of the archive
            LATEST:
              value: latest_versions
              description: Read the latest version
            DRAFT:
              value: Stage
              description: Read from the draft stage
            LIVE:
              value: Live
              description: Read from the live stage
            STATUS:
              value: status
              description: Read only records with a specific status
            VERSION:
              value: version
              description: Read a specific version
        VersionedStatus:
          description: The stage to read from or write to
          values:
            PUBLISHED:
              value: published
              description: Only published records
            DRAFT:
              value: draft
              description: Only draft records
            ARCHIVED:
              value: archived
              description: Only records that have been archived
            MODIFIED:
              value: modified
              description: Only records that have unpublished changes
      types:
        CopyToStageInputType:
          input: true
          fields:
            id:
              type: ID!
              description: The ID of the record to copy
            fromVersion:
              type: Int
              description: The source version number to copy
            fromStage:
              type: VersionedStage
              description: The source stage to copy
            toStage:
              type: VersionedStage
              description: The destination state to copy to
        VersionedInputType:
          input: true
          fields:
            mode: VersionedQueryMode = Stage
            archiveDate:
              type: String
              description: The date to use for archive
            status:
              type: '[VersionedStatus]'
              description: If mode is STATUS, specify which versioned statuses
            version: Int
